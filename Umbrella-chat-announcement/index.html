<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><style data-href="/styles.fcdb4eed16973a08d099.css">@font-face{font-family:Montserrat;font-style:normal;font-display:swap;font-weight:100;src:local("Montserrat Thin "),local("Montserrat-Thin"),url(/static/montserrat-latin-100-4124805c0503dbfe42dd67d7f5715964.woff2) format("woff2"),url(/static/montserrat-latin-100-c8fb2f714bbc7bc3e8dfffa916b286dc.woff) format("woff")}@font-face{font-family:Montserrat;font-style:italic;font-display:swap;font-weight:100;src:local("Montserrat Thin italic"),local("Montserrat-Thinitalic"),url(/static/montserrat-latin-100italic-e4bf47bd171a9b2a72dd84c58bf90edf.woff2) format("woff2"),url(/static/montserrat-latin-100italic-d1f3f2d02ee4d7d2d4b1ad865014f189.woff) format("woff")}@font-face{font-family:Montserrat;font-style:normal;font-display:swap;font-weight:200;src:local("Montserrat Extra Light "),local("Montserrat-Extra Light"),url(/static/montserrat-latin-200-444ae007121264bc1969d49b4031f9b2.woff2) format("woff2"),url(/static/montserrat-latin-200-edbce16a90aa22c297a0307b85789837.woff) format("woff")}@font-face{font-family:Montserrat;font-style:italic;font-display:swap;font-weight:200;src:local("Montserrat Extra Light italic"),local("Montserrat-Extra Lightitalic"),url(/static/montserrat-latin-200italic-f316c5d1ec40f3e68654c3f38b3999f3.woff2) format("woff2"),url(/static/montserrat-latin-200italic-d7bbb730d9b5e11720b3eb32326dcca7.woff) format("woff")}@font-face{font-family:Montserrat;font-style:normal;font-display:swap;font-weight:300;src:local("Montserrat Light "),local("Montserrat-Light"),url(/static/montserrat-latin-300-0a7c6df06e85d978d096d4d18fd8d43d.woff2) format("woff2"),url(/static/montserrat-latin-300-5e86df2cad22d2ef2b03516334afae5e.woff) format("woff")}@font-face{font-family:Montserrat;font-style:italic;font-display:swap;font-weight:300;src:local("Montserrat Light italic"),local("Montserrat-Lightitalic"),url(/static/montserrat-latin-300italic-c076c4892bc7a4be7b9097e97a35012d.woff2) format("woff2"),url(/static/montserrat-latin-300italic-37c74a8d2d0d36a0a2c6e9a37ee15b0c.woff) format("woff")}@font-face{font-family:Montserrat;font-style:normal;font-display:swap;font-weight:400;src:local("Montserrat Regular "),local("Montserrat-Regular"),url(/static/montserrat-latin-400-501ce09c42716a2f6e1503a25eb174c9.woff2) format("woff2"),url(/static/montserrat-latin-400-f29d2b8559699b6beb5b29b25b8bc572.woff) format("woff")}@font-face{font-family:Montserrat;font-style:italic;font-display:swap;font-weight:400;src:local("Montserrat Regular italic"),local("Montserrat-Regularitalic"),url(/static/montserrat-latin-400italic-882908d9950d9c86ebd380877f293d95.woff2) format("woff2"),url(/static/montserrat-latin-400italic-22e7b04e5f2a901d49d4d342315a715a.woff) format("woff")}@font-face{font-family:Montserrat;font-style:normal;font-display:swap;font-weight:500;src:local("Montserrat Medium "),local("Montserrat-Medium"),url(/static/montserrat-latin-500-f0f2716c5fe401d175b88715e7d28685.woff2) format("woff2"),url(/static/montserrat-latin-500-991b453bf90a0980e78966d2af7e3d3a.woff) format("woff")}@font-face{font-family:Montserrat;font-style:italic;font-display:swap;font-weight:500;src:local("Montserrat Medium italic"),local("Montserrat-Mediumitalic"),url(/static/montserrat-latin-500italic-4590ebba421b3288c305305d7fa7b504.woff2) format("woff2"),url(/static/montserrat-latin-500italic-f3d41e4cdcc2314e49ddcea751d6f87f.woff) format("woff")}@font-face{font-family:Montserrat;font-style:normal;font-display:swap;font-weight:600;src:local("Montserrat SemiBold "),local("Montserrat-SemiBold"),url(/static/montserrat-latin-600-15c24f7109941777774ddd2c636c6a50.woff2) format("woff2"),url(/static/montserrat-latin-600-f6dc6096f48956908c1787d9a722570a.woff) format("woff")}@font-face{font-family:Montserrat;font-style:italic;font-display:swap;font-weight:600;src:local("Montserrat SemiBold italic"),local("Montserrat-SemiBolditalic"),url(/static/montserrat-latin-600italic-6d10b80529d5c36c7c09fca7193af0fc.woff2) format("woff2"),url(/static/montserrat-latin-600italic-02c4833312d94b1b0866f073023a250e.woff) format("woff")}@font-face{font-family:Montserrat;font-style:normal;font-display:swap;font-weight:700;src:local("Montserrat Bold "),local("Montserrat-Bold"),url(/static/montserrat-latin-700-79982cd1f74c6fa7451bf9b37ead09ff.woff2) format("woff2"),url(/static/montserrat-latin-700-957e93fbbe131a59791cd820d98b7109.woff) format("woff")}@font-face{font-family:Montserrat;font-style:italic;font-display:swap;font-weight:700;src:local("Montserrat Bold italic"),local("Montserrat-Bolditalic"),url(/static/montserrat-latin-700italic-283438e9577fe6a684466bb100e105ec.woff2) format("woff2"),url(/static/montserrat-latin-700italic-ca627c5ccc65cf80c2ecaea44b997de9.woff) format("woff")}@font-face{font-family:Montserrat;font-style:normal;font-display:swap;font-weight:800;src:local("Montserrat ExtraBold "),local("Montserrat-ExtraBold"),url(/static/montserrat-latin-800-35386154b78d046218fc8f88a44ff515.woff2) format("woff2"),url(/static/montserrat-latin-800-756655905d91b77960888262e7d58d35.woff) format("woff")}@font-face{font-family:Montserrat;font-style:italic;font-display:swap;font-weight:800;src:local("Montserrat ExtraBold italic"),local("Montserrat-ExtraBolditalic"),url(/static/montserrat-latin-800italic-e1b52a7bd83e2324db6d92bdc206844c.woff2) format("woff2"),url(/static/montserrat-latin-800italic-a69f0add9d86c1a84311d7dd8693ba4a.woff) format("woff")}@font-face{font-family:Montserrat;font-style:normal;font-display:swap;font-weight:900;src:local("Montserrat Black "),local("Montserrat-Black"),url(/static/montserrat-latin-900-260c2ea3ef57feb82251952e605a36d5.woff2) format("woff2"),url(/static/montserrat-latin-900-186cae8091da578150d81958e217714a.woff) format("woff")}@font-face{font-family:Montserrat;font-style:italic;font-display:swap;font-weight:900;src:local("Montserrat Black italic"),local("Montserrat-Blackitalic"),url(/static/montserrat-latin-900italic-d785fb9fc74588ffb7f306799709a97d.woff2) format("woff2"),url(/static/montserrat-latin-900italic-43b527fe77254f97ea36e2b54e845ec4.woff) format("woff")}@font-face{font-family:Merriweather;font-style:normal;font-display:swap;font-weight:300;src:local("Merriweather Light "),local("Merriweather-Light"),url(/static/merriweather-latin-300-a50c381443e6993188ed9cc4b6806866.woff2) format("woff2"),url(/static/merriweather-latin-300-2c73b119ad85e697123658b8a091ff83.woff) format("woff")}@font-face{font-family:Merriweather;font-style:italic;font-display:swap;font-weight:300;src:local("Merriweather Light italic"),local("Merriweather-Lightitalic"),url(/static/merriweather-latin-300italic-bd410cbf8c272acd4fbdd9f61a7015bf.woff2) format("woff2"),url(/static/merriweather-latin-300italic-9deeb422b65afb1daacc039296bb3640.woff) format("woff")}@font-face{font-family:Merriweather;font-style:normal;font-display:swap;font-weight:400;src:local("Merriweather Regular "),local("Merriweather-Regular"),url(/static/merriweather-latin-400-f936cb550d4dcd769f75c453207ac5e6.woff2) format("woff2"),url(/static/merriweather-latin-400-ab0616e6d856817eff54eb8c5e1664e4.woff) format("woff")}@font-face{font-family:Merriweather;font-style:italic;font-display:swap;font-weight:400;src:local("Merriweather Regular italic"),local("Merriweather-Regularitalic"),url(/static/merriweather-latin-400italic-5c9a23d08e2c851e5a25795b940acd4f.woff2) format("woff2"),url(/static/merriweather-latin-400italic-0ab4b54f3b1e8b14cf755970fde8ce35.woff) format("woff")}@font-face{font-family:Merriweather;font-style:normal;font-display:swap;font-weight:700;src:local("Merriweather Bold "),local("Merriweather-Bold"),url(/static/merriweather-latin-700-1636f13a52ca3f0eb8784c9c57f62082.woff2) format("woff2"),url(/static/merriweather-latin-700-cc673c945b482dc1378d4a3c95ffd175.woff) format("woff")}@font-face{font-family:Merriweather;font-style:italic;font-display:swap;font-weight:700;src:local("Merriweather Bold italic"),local("Merriweather-Bolditalic"),url(/static/merriweather-latin-700italic-8b0db67123584893c6591accbc51640c.woff2) format("woff2"),url(/static/merriweather-latin-700italic-513649f5b9ba4675cff15cf3f7ad4f2a.woff) format("woff")}@font-face{font-family:Merriweather;font-style:normal;font-display:swap;font-weight:900;src:local("Merriweather Black "),local("Merriweather-Black"),url(/static/merriweather-latin-900-46631a9aab93dec3ed34f429dd1a5646.woff2) format("woff2"),url(/static/merriweather-latin-900-a0528570caa2c785891308ce604d8db7.woff) format("woff")}@font-face{font-family:Merriweather;font-style:italic;font-display:swap;font-weight:900;src:local("Merriweather Black italic"),local("Merriweather-Blackitalic"),url(/static/merriweather-latin-900italic-a26a8168916e5d4e5485081171d7fdb0.woff2) format("woff2"),url(/static/merriweather-latin-900italic-db42a3f34378e69ef5aebb6717f1f33e.woff) format("woff")}</style><meta name="generator" content="Gatsby 2.1.4"/><link rel="alternate" type="application/rss+xml" href="/rss.xml"/><link rel="shortcut icon" href="/icons/icon-48x48.png"/><link rel="manifest" href="/manifest.webmanifest"/><meta name="theme-color" content="#663399"/><link rel="apple-touch-icon" sizes="48x48" href="/icons/icon-48x48.png"/><link rel="apple-touch-icon" sizes="72x72" href="/icons/icon-72x72.png"/><link rel="apple-touch-icon" sizes="96x96" href="/icons/icon-96x96.png"/><link rel="apple-touch-icon" sizes="144x144" href="/icons/icon-144x144.png"/><link rel="apple-touch-icon" sizes="192x192" href="/icons/icon-192x192.png"/><link rel="apple-touch-icon" sizes="256x256" href="/icons/icon-256x256.png"/><link rel="apple-touch-icon" sizes="384x384" href="/icons/icon-384x384.png"/><link rel="apple-touch-icon" sizes="512x512" href="/icons/icon-512x512.png"/><title data-react-helmet="true">New Project! Umbrella Chat - an Encrypted Chat Service | Engineering Schmengineering</title><meta data-react-helmet="true" name="description" content="For about the past month, my friend Atta and I have been working on
a new project. We’ve wanted to build something together for some time
but kept throwing…"/><meta data-react-helmet="true" property="og:title" content="New Project! Umbrella Chat - an Encrypted Chat Service"/><meta data-react-helmet="true" property="og:description" content="For about the past month, my friend Atta and I have been working on
a new project. We’ve wanted to build something together for some time
but kept throwing…"/><meta data-react-helmet="true" property="og:type" content="website"/><meta data-react-helmet="true" name="twitter:card" content="summary"/><meta data-react-helmet="true" name="twitter:creator" content="Tim Stewart"/><meta data-react-helmet="true" name="twitter:title" content="New Project! Umbrella Chat - an Encrypted Chat Service"/><meta data-react-helmet="true" name="twitter:description" content="For about the past month, my friend Atta and I have been working on
a new project. We’ve wanted to build something together for some time
but kept throwing…"/><style id="typography.js">html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}body{margin:0}article,aside,details,figcaption,figure,footer,header,main,menu,nav,section,summary{display:block}audio,canvas,progress,video{display:inline-block}audio:not([controls]){display:none;height:0}progress{vertical-align:baseline}[hidden],template{display:none}a{background-color:transparent;-webkit-text-decoration-skip:objects}a:active,a:hover{outline-width:0}abbr[title]{border-bottom:none;text-decoration:underline;text-decoration:underline dotted}b,strong{font-weight:inherit;font-weight:bolder}dfn{font-style:italic}h1{font-size:2em;margin:.67em 0}mark{background-color:#ff0;color:#000}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}img{border-style:none}svg:not(:root){overflow:hidden}code,kbd,pre,samp{font-family:monospace,monospace;font-size:1em}figure{margin:1em 40px}hr{box-sizing:content-box;height:0;overflow:visible}button,input,optgroup,select,textarea{font:inherit;margin:0}optgroup{font-weight:700}button,input{overflow:visible}button,select{text-transform:none}[type=reset],[type=submit],button,html [type=button]{-webkit-appearance:button}[type=button]::-moz-focus-inner,[type=reset]::-moz-focus-inner,[type=submit]::-moz-focus-inner,button::-moz-focus-inner{border-style:none;padding:0}[type=button]:-moz-focusring,[type=reset]:-moz-focusring,[type=submit]:-moz-focusring,button:-moz-focusring{outline:1px dotted ButtonText}fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}legend{box-sizing:border-box;color:inherit;display:table;max-width:100%;padding:0;white-space:normal}textarea{overflow:auto}[type=checkbox],[type=radio]{box-sizing:border-box;padding:0}[type=number]::-webkit-inner-spin-button,[type=number]::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}[type=search]::-webkit-search-cancel-button,[type=search]::-webkit-search-decoration{-webkit-appearance:none}::-webkit-input-placeholder{color:inherit;opacity:.54}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}html{font:100%/1.75 'Merriweather','Georgia',serif;box-sizing:border-box;overflow-y:scroll;}*{box-sizing:inherit;}*:before{box-sizing:inherit;}*:after{box-sizing:inherit;}body{color:hsla(0,0%,0%,0.9);font-family:'Merriweather','Georgia',serif;font-weight:400;word-wrap:break-word;font-kerning:normal;-moz-font-feature-settings:"kern", "liga", "clig", "calt";-ms-font-feature-settings:"kern", "liga", "clig", "calt";-webkit-font-feature-settings:"kern", "liga", "clig", "calt";font-feature-settings:"kern", "liga", "clig", "calt";}img{max-width:100%;margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;}h1{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;color:inherit;font-family:Montserrat,sans-serif;font-weight:900;text-rendering:optimizeLegibility;font-size:2.5rem;line-height:1.1;}h2{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;color:inherit;font-family:'Merriweather','Georgia',serif;font-weight:900;text-rendering:optimizeLegibility;font-size:1.73286rem;line-height:1.1;}h3{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;color:inherit;font-family:'Merriweather','Georgia',serif;font-weight:900;text-rendering:optimizeLegibility;font-size:1.4427rem;line-height:1.1;}h4{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;color:inherit;font-family:'Merriweather','Georgia',serif;font-weight:900;text-rendering:optimizeLegibility;font-size:1rem;line-height:1.1;letter-spacing:0.140625em;text-transform:uppercase;}h5{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;color:inherit;font-family:'Merriweather','Georgia',serif;font-weight:900;text-rendering:optimizeLegibility;font-size:0.83255rem;line-height:1.1;}h6{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;color:inherit;font-family:'Merriweather','Georgia',serif;font-weight:900;text-rendering:optimizeLegibility;font-size:0.75966rem;line-height:1.1;font-style:italic;}hgroup{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;}ul{margin-left:1.75rem;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;list-style-position:outside;list-style-image:none;list-style:disc;}ol{margin-left:1.75rem;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;list-style-position:outside;list-style-image:none;}dl{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;}dd{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;}p{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;}figure{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;}pre{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;font-size:0.85rem;line-height:1.75rem;}table{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;font-size:1rem;line-height:1.75rem;border-collapse:collapse;width:100%;}fieldset{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;}blockquote{margin-left:-1.75rem;margin-right:1.75rem;margin-top:0;padding-bottom:0;padding-left:1.42188rem;padding-right:0;padding-top:0;margin-bottom:1.75rem;font-size:1.20112rem;line-height:1.75rem;color:hsla(0,0%,0%,0.59);font-style:italic;border-left:0.32813rem solid hsla(0,0%,0%,0.9);}form{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;}noscript{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;}iframe{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;}hr{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:calc(1.75rem - 1px);background:hsla(0,0%,0%,0.2);border:none;height:1px;}address{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;}b{font-weight:700;}strong{font-weight:700;}dt{font-weight:700;}th{font-weight:700;}li{margin-bottom:calc(1.75rem / 2);}ol li{padding-left:0;}ul li{padding-left:0;}li > ol{margin-left:1.75rem;margin-bottom:calc(1.75rem / 2);margin-top:calc(1.75rem / 2);}li > ul{margin-left:1.75rem;margin-bottom:calc(1.75rem / 2);margin-top:calc(1.75rem / 2);}blockquote *:last-child{margin-bottom:0;}li *:last-child{margin-bottom:0;}p *:last-child{margin-bottom:0;}li > p{margin-bottom:calc(1.75rem / 2);}code{font-size:0.85rem;line-height:1.75rem;}kbd{font-size:0.85rem;line-height:1.75rem;}samp{font-size:0.85rem;line-height:1.75rem;}abbr{border-bottom:1px dotted hsla(0,0%,0%,0.5);cursor:help;}acronym{border-bottom:1px dotted hsla(0,0%,0%,0.5);cursor:help;}abbr[title]{border-bottom:1px dotted hsla(0,0%,0%,0.5);cursor:help;text-decoration:none;}thead{text-align:left;}td,th{text-align:left;border-bottom:1px solid hsla(0,0%,0%,0.12);font-feature-settings:"tnum";-moz-font-feature-settings:"tnum";-ms-font-feature-settings:"tnum";-webkit-font-feature-settings:"tnum";padding-left:1.16667rem;padding-right:1.16667rem;padding-top:0.875rem;padding-bottom:calc(0.875rem - 1px);}th:first-child,td:first-child{padding-left:0;}th:last-child,td:last-child{padding-right:0;}blockquote > :last-child{margin-bottom:0;}blockquote cite{font-size:1rem;line-height:1.75rem;color:hsla(0,0%,0%,0.9);font-weight:400;}blockquote cite:before{content:"— ";}ul,ol{margin-left:0;}@media only screen and (max-width:480px){ul,ol{margin-left:1.75rem;}blockquote{margin-left:-1.3125rem;margin-right:0;padding-left:0.98438rem;}}h1,h2,h3,h4,h5,h6{margin-top:3.5rem;}a{box-shadow:0 1px 0 0 currentColor;color:#007acc;text-decoration:none;}a:hover,a:active{box-shadow:none;}mark,ins{background:#007acc;color:white;padding:0.10938rem 0.21875rem;text-decoration:none;}a.gatsby-resp-image-link{box-shadow:none;}</style><link as="script" rel="preload" href="/component---src-templates-blog-post-js-000267cb3d411327cf46.js"/><link as="script" rel="preload" href="/0-1f4f73622f63aab064b3.js"/><link as="script" rel="preload" href="/app-2aed4b4930f3eb30e082.js"/><link as="script" rel="preload" href="/styles-a2710d751fa879b5be23.js"/><link as="script" rel="preload" href="/webpack-runtime-f49a6f554691301ecd85.js"/><link as="fetch" rel="preload" href="/static/d/443/path---umbrella-chat-announcement-6-dd-e6b-m4ci0RdnG7lrjK2l7EgEuX4s.json" crossorigin="use-credentials"/></head><body><noscript id="gatsby-noscript">This app works best with JavaScript enabled.</noscript><div id="___gatsby"><div style="outline:none" tabindex="-1" role="group"><div style="margin-left:auto;margin-right:auto;max-width:42rem;padding:2.625rem 1.3125rem"><header><h3 style="font-family:Montserrat, sans-serif;margin-top:0"><a style="box-shadow:none;text-decoration:none;color:inherit" href="/">Engineering Schmengineering</a></h3></header><main><h1>New Project! Umbrella Chat - an Encrypted Chat Service</h1><p style="font-size:0.83255rem;line-height:1.75rem;display:block;margin-bottom:1.75rem;margin-top:-1.75rem">March 27, 2019</p><div><p>For about the past month, my friend Atta and I have been working on
a new project. We’ve wanted to build something together for some time
but kept throwing around ideas without actually starting. So finally
we just picked one that interested us both, and went for it.</p>
<p>Umbrella Chat is going to be an end-to-end encrypted chat service built
as a 12-factor web-app. <a href="https://github.com/TimtheStew/umbrella-chat">Check out the source here!</a></p>
<h2>The Stack</h2>
<p>On the back-end, we’re using Apollo Server, for ease of setting up
a GraphQL API, and Sequelize as an ORM tool for our Postgres DB.</p>
<p>In the front, we’re using webpack to bundle our assets, babel to maintain
compatibility, React to display a UI, and Redux to manage our state.</p>
<p>That all sounds great! Modern and buzzword-y! But what does it mean?</p>
<p>Well strap in, and let me tell you…</p>
<h3>Back-End</h3>
<p><a href="https://graphql.org/">GraphQL</a> is an alternative to traditional RESTful
API’s, developed at facebook. The basic idea behind it is that instead of
having lots of endpoints for very specific queries, you have one
“smart” endpoint, that delivers just the data the client needs, and in whatever
configuration they need it. This cuts down on data processing on the front end, and
means you don’t have to write a new query every time your front-end needs a
different collection of data.</p>
<p>A GraphQL server is a layer that sits between your front end and your data store(s).
It works with three main components: Schemas, Queries, and Resolvers.</p>
<p>GraphQL’s typed <strong>schemas</strong> and <a href="https://www.apollographql.com/docs/apollo-server/essentials/schema#sdl">Schema Definition Language</a>
are at the core of how it functions. A schema is how you describe your data and
it’s types to graphql. SDL offers several scalar types (bools, ints, strings, etc.)
and some abstractions, like objects, to allow you to define your data in terms
of types and relationships. For instance a rudimentary Chat definition might
look like:</p>
<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript">type Chat<span class="token punctuation">{</span>
    id<span class="token punctuation">:</span> <span class="token constant">ID</span>
    name<span class="token punctuation">:</span> String
    users<span class="token punctuation">:</span> <span class="token punctuation">[</span>String<span class="token punctuation">]</span>
    createdAt<span class="token punctuation">:</span> String
    updatedAt<span class="token punctuation">:</span> String
<span class="token punctuation">}</span></code></pre></div>
<p>There are other things you’ll probably want to include in schemas, such as extensions
to the Query and Mutation types, but I won’t get into those here. </p>
<p><strong>Queries</strong> are how you ask for the data you want, and are store-agnostic! It doesn’t
matter where what you need comes from, GraphQL takes care of that for you. They can
also take arguments, which plays into that “only the data you need” idea.
So lets say I wanted a chat with a particular id, my query might look like this:</p>
<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript">query<span class="token punctuation">{</span>
    <span class="token function">chat</span><span class="token punctuation">(</span>id<span class="token punctuation">:</span> <span class="token string">"someUUID"</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        name
        users
        updatedAt
        createdAt
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre></div>
<p>Since both queries and schemas don’t care about where things come from, you figure
something has to right? Thats where <strong>resolvers</strong> come in! A resolver does what
it says on the tin - it resolves abstract queries into concrete data by following
the procedures you lay out for it. More simply, it tells GraphQL where and how to look
for what it wants.</p>
<p>GraphQL is really just a specification, and can be implemented in any language. For this
project the implementation we’re using is
<a href="https://www.apollographql.com/docs/apollo-server/">Apollo Server</a> which allows for
easy set-up and auto-documenting of the API your GraphQL server uses. It also
offers compatibility with a wide range of sources
(such as a Postgres DB) and is popular, well-documented and well-maintained. </p>
<p>For our database, we’re using <a href="https://www.postgresql.org/">PostgreSQL</a>, which
is an open source object-relational database system. It has an emphasis on
extensibility and standards compliance, as well as a wide support base, given
it is the DB of choice for many individuals and organizations. </p>
<p>For ease of querying our database, we’re using an ORM, or Object Relational Mapping
(library) called <a href="http://docs.sequelizejs.com/">Sequelize</a>. Sequelize is a
promise based Javascript ORM, that supports a handful of popular DBs such
as MySQL, Microsoft SQL Server, <strong>Postgres</strong>, and SQLite. It’s purpose is to hide the
mechanics of SQL querying behind an object model. So instead of
writing a statement like </p>
<div class="gatsby-highlight" data-language="sql"><pre class="language-sql"><code class="language-sql"><span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> chats <span class="token keyword">WHERE</span> name <span class="token operator">=</span> <span class="token string">'My Squad'</span> </code></pre></div>
<p>you would do:</p>
<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript">Chat<span class="token punctuation">.</span><span class="token function">findAll</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  where<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    name <span class="token punctuation">:</span> <span class="token string">'My Squad'</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<p>Now, with such a trivial example, it might seem we’ve actually made things
more complicated, but as queries grow in demand or generality, they can become quite tricky to write
optimally, and that is where Sequelize really shines. It means that I don’t
have to be a SQL master to use fast queries, and the object model can greatly
simplify other more ungainly selections. However, since Sequelize isn’t familiar
with the ins and outs of my data, I can’t expect it be as good as an actual SQL master
at writing queries, but I can expect it to be better than me.</p>
<p>This object model is how our GraphQL resolvers will return the data they need to.</p>
<p>Using an ORM allows us to employ some OOP techniques to better manage and define our data,
even at the database level. Also, because it abstracts the DB, we could switch to any other DB supported by
Sequelize down the line without too much hassle. </p>
<h3>Front-End</h3>
<p>The front of our front-end is <a href="https://reactjs.org/">React</a>. React is a two-part
framework for creating UI’s in a browser or “browser-like” environment. One part
is React itself, which uses components, and their associated objects like props, to
describe at once both the visual and functional aspects of a UI. The other part is <a href="https://reactjs.org/docs/react-dom.html">React-DOM,</a>
which is a virtual <a href="https://developer.mozilla.org/en-US/docs/Web/API/Document_Object_Model/Introduction">DOM</a>that allows for faster loading and changing of the page through optimized DOM management.</p>
<p>If you’re familiar with android development, React components are very similar to activities and fragments, in that they’re modular pieces which represent screens or sections of screens. For example,
you might have a page level component for a login page, which contains several other
components such as a header, footer, loginModal, etc. It may also contain other non-visual components,
which just perform some background logic,
these are more akin to an android service. And since all these components are modular, you can reuse them,
so all of your page level components (often called containers, or views, or something similar) can use the
same header and footer components. </p>
<p>Again, similar to android, these components will usually be subclasses of the main React.Component class, and follow a lifecycle, with callbacks corresponding to
various points in that lifecycle, such as when they are about to mount, or just have mounted. </p>
<p>One of the core ideas of React is the marriage of display logic and functionality. To this end,
React uses something called <a href="https://reactjs.org/docs/introducing-jsx.html">JSX</a> which
is an extension for Javascript that allows for the direct embedding of markup syntax into Javascript.
Jsx is how components are defined.</p>
<p>While React has built-in functionality for managing the state of each component in your application,
it can get head-scratchingly complicated as your application grows. Some component updates
your data, which updates a couple other components, which updates your data, which updates other components…</p>
<p>To reduce this headache, we use a state container called <a href="https://redux.js.org/">Redux</a>. So that
instead of having to micro-manage the state of our application at a per-component level, we
can do it all in one place - the redux store. </p>
<p>The store contains the state of our entire application, usually in something like a map, which it doles
out as props to our various components. Whenever our components trigger an Action, redux reduces that
action to changes in the store, which will cause our components to update with new props. </p>
<p>Our front-end is connected to the backend using <a href="https://www.apollographql.com/docs/react/">Apollo Client</a>.
It has some very convienent features,
especially when used with React. It lets us create Query Components, which
encapsulates a lot of data-fetching tasks nicely into a pattern that fits well
with React and Redux. It also ships with an intelligent cache.</p>
<p>On the back-end of the front end, we use some pre-processing to turn all our code into
a website. We have a couple smaller pre-processerers like one for SASS, which lets us write
more robust CSS. A major pre-processor is <a href="https://babeljs.io/">babel</a> which is really
a transpiler. It lets us write modern ES6 javascript, which is not yet fully supported
by all browsers, by converting it into ES5 javascript that is. For example it would turn
this code, utilizing lambda functions:</p>
<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript"><span class="token keyword">var</span> odds <span class="token operator">=</span> evens<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span>v <span class="token operator">=></span> v <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token keyword">var</span> nums <span class="token operator">=</span> evens<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span>v<span class="token punctuation">,</span> i<span class="token punctuation">)</span> <span class="token operator">=></span> v <span class="token operator">+</span> i<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<p>into this, which doesn’t:</p>
<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript"><span class="token keyword">var</span> odds <span class="token operator">=</span> evens<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span>v<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> v <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> nums <span class="token operator">=</span> evens<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span>v<span class="token punctuation">,</span> i<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> v <span class="token operator">+</span> i<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<p>All of this preprocessing, and more (such as minification), is handled by <a href="https://webpack.js.org/">WebPack</a>.</p>
<p>WebPack, along with providing all the task-running functionality described above (applying
those processors in a specified order), also builds a dependency graph of our all our
static and non-static assets, from CSS to images. I’m not going to go too deep into it here,
there are plenty of great resources describing the webpack process all over the web. </p>
<p>The long
and the short of it is that webpack allows us require() in the browser. This means instead
of having to hand order concatened javascript files, and <strong>rely on global variables</strong> we can make use of the modulization
provided by require(). Webpack will assemble all our javascript into
the minimal amount of files, and, with the help of an HTML plugin, directly insert those
scripts in the right order into a template HTML file. It will take all these files,
modified to properly include the static assets, and put them into a directory for
distribution. Boom, website!</p>
<h3>The End</h3>
<p>I hope you’ve enjoyed the read. Stay tuned for the next post where I’ll go over
what it means for this app to be 12 factor!</p></div><hr style="margin-bottom:1.75rem"/><div style="display:flex;margin-bottom:4.375rem"><div class=" gatsby-image-wrapper" style="position:relative;overflow:hidden;display:inline-block;width:50px;height:50px;margin-right:0.875rem;margin-bottom:0;min-width:50px;border-radius:100%"><img src="data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAhABQDASIAAhEBAxEB/8QAGAABAQEBAQAAAAAAAAAAAAAAAAMEAgX/xAAXAQEBAQEAAAAAAAAAAAAAAAABAgMA/9oADAMBAAIQAxAAAAGs7YwsBjz5+g20MovPcvKA6P/EAB0QAAEDBQEAAAAAAAAAAAAAAAIAAQMREhMhMTL/2gAIAQEAAQUCK6/M6ym62QPBVC4iOV7Sk0n7HtGdHUXS9f/EABsRAAIDAAMAAAAAAAAAAAAAAAABAgMRIjEy/9oACAEDAQE/AcbMK8lxJOGlXtD7P//EABgRAQADAQAAAAAAAAAAAAAAAAABEBES/9oACAECAQE/Adalymv/xAAiEAABBAECBwAAAAAAAAAAAAABAAIRIRIQMSBCUmFxkaL/2gAIAQEABj8CfExS3HpUflPA5nwqY8Hyhkb7IgdUrd2XBGpX/8QAHRABAAICAwEBAAAAAAAAAAAAAQARIUExUWFxof/aAAgBAQABPyF3TS2QNTNVz1CnIVhBRLt5VdVCBZvqES42wInTY+wHHyaJZReWZxQem5h2o8znn6J//9oADAMBAAIAAwAAABDcNcCD7//EABsRAAEEAwAAAAAAAAAAAAAAAAEAEBExIUGx/9oACAEDAQE/ENBuDQ9QRCWly//EABkRAAIDAQAAAAAAAAAAAAAAAAABEBExIf/aAAgBAgEBPxB0itdEzMiw/8QAIhABAAICAQMFAQAAAAAAAAAAAQARITFBUYGhYXGRscHR/9oACAEBAAE/EHPa6QEWbb5hUDGtt9mJMjsOk643NTBXYIv6rvGu8C00rlEhDqArAvXO4RGwh5Y+P7DDcAX2ct6nAQKVNxnPQUBxM1a7k3Xt6xlFQZmyeL+zy8//2Q==" alt="Tim Stewart" style="position:absolute;top:0;left:0;width:100%;height:100%;object-fit:cover;object-position:center;opacity:1;transition:opacity 0.5s;transition-delay:0.25s;border-radius:50%"/><noscript><picture><source srcSet="/static/4873828f2d1205b30cef75298e5b1166/d2d31/profile-pic.jpg 1x,
/static/4873828f2d1205b30cef75298e5b1166/0b804/profile-pic.jpg 1.5x,
/static/4873828f2d1205b30cef75298e5b1166/753c3/profile-pic.jpg 2x,
/static/4873828f2d1205b30cef75298e5b1166/31ca8/profile-pic.jpg 3x" /><img width="50" height="50" src="/static/4873828f2d1205b30cef75298e5b1166/d2d31/profile-pic.jpg" alt="Tim Stewart" style="position:absolute;top:0;left:0;transition:opacity 0.5s;transition-delay:0.5s;opacity:1;width:100%;height:100%;object-fit:cover;object-position:center"/></picture></noscript></div><p>A blog by <strong>Tim Stewart</strong>, a CS grad with a love of web development and a yearning for learning.<!-- --> </p></div><ul style="display:flex;flex-wrap:wrap;justify-content:space-between;list-style:none;padding:0"><li><a rel="prev" href="/YFS-Retrospective/">← <!-- -->YFS - A Distributed Filesystem Retrospective - WIP</a></li><li></li></ul></main><footer>© <!-- -->2019<!-- -->, Built with<!-- --> <a href="https://www.gatsbyjs.org">Gatsby</a></footer></div></div></div><script>
  
  
  if(true) {
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
  }
  if (typeof ga === "function") {
    ga('create', 'undefined', 'auto', {});
      
      
      
      }
      </script><script id="gatsby-script-loader">/*<![CDATA[*/window.page={"componentChunkName":"component---src-templates-blog-post-js","jsonName":"umbrella-chat-announcement-6dd","path":"/Umbrella-chat-announcement/"};window.dataPath="443/path---umbrella-chat-announcement-6-dd-e6b-m4ci0RdnG7lrjK2l7EgEuX4s";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"app":["/app-2aed4b4930f3eb30e082.js"],"component---node-modules-gatsby-plugin-offline-app-shell-js":["/component---node-modules-gatsby-plugin-offline-app-shell-js-204a7f83e2fff36d5ca7.js"],"component---src-templates-blog-post-js":["/component---src-templates-blog-post-js-000267cb3d411327cf46.js"],"component---src-pages-404-js":["/component---src-pages-404-js-f50e80bbede861362546.js"],"component---src-pages-index-js":["/component---src-pages-index-js-eec57c57fe769f738214.js"],"pages-manifest":["/pages-manifest-109158d1c5add90c5698.js"]};/*]]>*/</script><script src="/webpack-runtime-f49a6f554691301ecd85.js" async=""></script><script src="/styles-a2710d751fa879b5be23.js" async=""></script><script src="/app-2aed4b4930f3eb30e082.js" async=""></script><script src="/0-1f4f73622f63aab064b3.js" async=""></script><script src="/component---src-templates-blog-post-js-000267cb3d411327cf46.js" async=""></script></body></html>